
@{
    ViewBag.Title = "PanelAlumno";
    Layout = "~/Views/Shared/MasterPageAmplio.cshtml";
}



<script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<link href="~/Scripts/css/estilosTabs.css" rel="stylesheet" />
<script src="~/Scripts/js/jsTabs.js"></script>
<script type="text/javascript">
     $(document).ready(
        function () {
            $("#msjExito").hide();
        }
);
</script>

<center>
    <h2>PanelAlumno</h2>

    <p>Seleccione la accion a realizar</p>


    <div class="tab">
        <button class="tablinks" onclick="openCity(event, 'Centros')">Ver notas</button>
        <button class="tablinks" onclick="openCity(event, 'Programas')">Ver programas de estudios</button>
        <button class="tablinks" onclick="openCity(event, 'Familias')">Seleccionar familia</button>
    </div>
</center>
<!-- Tab content -->
<div class="alert alert-success" id="msjExito">
    Usuario eliminado con exito
</div>
<div id="Programas" class="tabcontent">
    <h3>Usuarios</h3>
    <a href="@Url.Action("ProgramasEstudio", "Home")">
        Haga click aqui si desea buscar programas para postular <img src="~/Scripts/images/toggle01.png" />
    </a>
    <table id="TProgramas" style="width:100%">
        <thead>
            <tr>
                <th>Nombre del programa</th>
                <th>Estado Postulacion</th>
                <th>Fecha de postulacion</th>
                
            </tr>
        </thead>
        @{
            List<Negocio.ClasesModelo.Postulante> list = new Negocio.OperacionesPostulante().TraerTodo();
            Negocio.OperacionesProgramasEstudios oprog = new Negocio.OperacionesProgramasEstudios();
            foreach (Negocio.ClasesModelo.Postulante post in list)
            {
                if (post.IDUSUARIOFK == int.Parse(Session["idUsuario"].ToString()))
                {
                    <tr>
                        <th>@oprog.TraerNombrePorId(post.IDPROGRAMAESTUDIOFK)</th>
                        <th>@post.ESTADOPOSTULACION</th>
                        <th>@post.FECHAPOSTULACION</th>
                        
                    </tr>
                }
            }
        }

    </table>
</div>

<div id="Familias" class="tabcontent">
    <h3>Familias disponibles</h3>
    <a href="@Url.Action("ProgramasEstudio", "Home")">
        
    </a>
    <table id="TProgramas" style="width:100%">
        <thead>
            <tr>
                <th>Nombre completo</th>
                <th>Telefono</th>
                <th>Email</th>
                <th>Acciones</th>
            </tr>
        </thead>
        @{
            List<Negocio.ClasesModelo.Usuario> lista = new Negocio.OperacionesUsuarios().TraerFamilias();
            foreach (Negocio.ClasesModelo.Usuario usu in lista)
            {
                <tr>
                    <th>@string.Format("{0} {1} {2} {3}",usu.Pnombre,usu.Snombre,usu.Appat,usu.Apmat)</th>
                    <th>@usu.FonoCelular</th>
                    <th>@usu.Email</th>
                    <th> <a href="@Url.Action("VerAntecedentes", "User")?id=@usu.IdUsuario">Ver antecedentes</a> </th>
                </tr>
            }
        }

    </table>
</div>